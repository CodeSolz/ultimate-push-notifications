!function(o){var t={};function r(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return o[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=o,r.c=t,r.d=function(e,n,o){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var t in n)r.d(o,t,function(e){return n[e]}.bind(null,t));return o},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=3)}({3:function(e,n){var o={apiKey:UPN_Notifier.apiKey,authDomain:UPN_Notifier.authDomain,databaseURL:UPN_Notifier.databaseURL,projectId:UPN_Notifier.projectId,storageBucket:UPN_Notifier.storageBucket,messagingSenderId:UPN_Notifier.messagingSenderId,appId:UPN_Notifier.appId,measurementId:UPN_Notifier.measurementId};function t(e){for(var n=e+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){var r=o[t].trim();if(0==r.indexOf(n))return r.substring(n.length,r.length)}return""}firebase.initializeApp(o);var r=firebase.messaging();function i(e){console.log(e);var n={action:"upn_ajax",method:"admin\\options\\functions\\AppConfig@cs_update_token",gen_token:e,device_id:t("cs_wp_ultimate_device_id"),current_user:UPN_Notifier.current_user};$.ajax({url:"".concat(UPN_Notifier.ajax_url),type:"POST",data:n,contentType:!1,cache:!1,processData:!1}).done(function(e){console.log(e)}).fail(function(e){console.log("Error: "+e.responseText)})}navigator.serviceWorker.register("".concat(UPN_Notifier.asset_url,"plugins/firebase/js/firebase.messaging.sw.min.js")).then(function(e){r.useServiceWorker(e),r.getToken().then(function(e){var n,o;return e?(console.log("intra aici"),t("cs_wp_ultimate_device_id")?(console.log("exista deja token generat"),console.log(e)):(n="cs_wp_ultimate_device_id",o="".concat(e),document.cookie=n+"="+o+";max-age=31536000",console.log("cookie created"),i(e)),e):void console.log("Request permission to generate one.")}).catch(function(e){console.log("An error occurred while retrieving token. ",e)}),r.onMessage(function(e){console.log("onMessage: ",e)}),r.onTokenRefresh(function(){r.getToken().then(function(e){return console.log("Token refreshed."),i(e),e}).catch(function(e){console.log("Unable to retrieve refreshed token ",e)})})})}});